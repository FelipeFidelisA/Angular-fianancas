{"ast":null,"code":"import { Injector } from '@angular/core';\nimport { Validators } from \"@angular/forms\";\nimport { BaseResourceFormComponent } from \"../../../shared/components/base-resource-form/base-resource-form.component\";\nimport { Entry } from \"../shared/entry.model\";\nimport { EntryService } from \"../shared/entry.service\";\nimport { CategoryService } from \"../../categories/shared/category.service\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../shared/entry.service\";\nimport * as i2 from \"../../categories/shared/category.service\";\nimport * as i3 from \"../../../shared/components/bread-crumb/bread-crumb.component\";\nimport * as i4 from \"../../../shared/components/page-header/page-header.component\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"../../../shared/components/form-field-error/form-field-error.component\";\nimport * as i8 from \"ngx-mask\";\nimport * as i9 from \"primeng/calendar\";\nimport * as i10 from \"../../../shared/components/server-error-messages/server-error-messages.component\";\nfunction EntryFormComponent_option_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 33);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const option_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", option_r2.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(option_r2.text);\n  }\n}\nfunction EntryFormComponent_option_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 33);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", category_r3.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(category_r3.name);\n  }\n}\nconst _c0 = function () {\n  return {\n    text: \"Lan\\u00E7amentos\",\n    link: \"/entries\"\n  };\n};\nconst _c1 = function (a0) {\n  return {\n    text: a0\n  };\n};\nconst _c2 = function (a0, a1) {\n  return [a0, a1];\n};\nexport let EntryFormComponent = /*#__PURE__*/(() => {\n  class EntryFormComponent extends BaseResourceFormComponent {\n    constructor(entryService, categoryService, injector) {\n      super(injector, new Entry(), entryService, Entry.fromJson);\n      this.entryService = entryService;\n      this.categoryService = categoryService;\n      this.injector = injector;\n      this.ptBR = {\n        firstDayOfWeek: 0,\n        dayNames: ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'],\n        dayNamesShort: ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sab'],\n        dayNamesMin: ['Do', 'Se', 'Te', 'Qu', 'Qu', 'Se', 'Sa'],\n        monthNames: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],\n        monthNamesShort: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],\n        today: 'Hoje',\n        clear: 'Limpar'\n      };\n    }\n    ngOnInit() {\n      this.loadCategories();\n      super.ngOnInit();\n    }\n    get typeOptions() {\n      return Object.entries(Entry.types).map(([value, text]) => {\n        return {\n          text: text,\n          value: value\n        };\n      });\n    }\n    buildResourceForm() {\n      this.resourceForm = this.formBuilder.group({\n        id: [null],\n        name: [null, [Validators.required, Validators.minLength(2)]],\n        description: [null],\n        type: [\"expense\", [Validators.required]],\n        amount: [null, [Validators.required]],\n        date: [null, [Validators.required]],\n        paid: [true, [Validators.required]],\n        categoryId: [null, [Validators.required]]\n      });\n    }\n    loadCategories() {\n      this.categoryService.getAll().subscribe(categories => this.categories = categories);\n    }\n    creationPageTitle() {\n      return \"Cadastro de Novo Lançamento\";\n    }\n    editionPageTitle() {\n      const resourceName = this.resource.name || \"\";\n      return \"Editando Lançamento: \" + resourceName;\n    }\n  }\n  EntryFormComponent.ɵfac = function EntryFormComponent_Factory(t) {\n    return new (t || EntryFormComponent)(i0.ɵɵdirectiveInject(i1.EntryService), i0.ɵɵdirectiveInject(i2.CategoryService), i0.ɵɵdirectiveInject(i0.Injector));\n  };\n  EntryFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: EntryFormComponent,\n    selectors: [[\"app-entry-form\"]],\n    features: [i0.ɵɵInheritDefinitionFeature],\n    decls: 57,\n    vars: 27,\n    consts: [[3, \"items\"], [\"button-text\", \"<< Voltar\", \"button-link\", \"/entries\", \"button-class\", \"btn-light\", 3, \"page-title\"], [3, \"formGroup\", \"submit\"], [1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [1, \"form-row\"], [1, \"form-group\", \"col-md-2\"], [\"for\", \"type\"], [\"name\", \"type\", \"id\", \"type\", \"formControlName\", \"type\", 1, \"form-control\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"form-control\"], [1, \"form-group\", \"col-md-5\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", \"formControlName\", \"name\", 1, \"form-control\"], [1, \"form-group\", \"col-md-3\"], [\"for\", \"amount\"], [1, \"input-group\"], [1, \"input-group-prepend\"], [1, \"input-group-text\"], [\"type\", \"text\", \"id\", \"amount\", \"formControlName\", \"amount\", 1, \"form-control\", \"text-right\", 3, \"mask\"], [\"for\", \"date\"], [\"id\", \"date\", \"formControlName\", \"date\", \"inputStyleClass\", \"form-control\", \"dataType\", \"string\", \"dateFormat\", \"dd/mm/yy\", 3, \"locale\", \"showButtonBar\"], [\"for\", \"paid\"], [1, \"btn-group\"], [1, \"btn\", \"btn-outline-info\", 3, \"click\"], [\"for\", \"categoryId\"], [\"name\", \"categoryId\", \"id\", \"categoryId\", \"formControlName\", \"categoryId\", 1, \"form-control\"], [1, \"form-group\", \"col-md-7\"], [\"for\", \"description\"], [\"type\", \"text\", \"id\", \"description\", \"formControlName\", \"description\", 1, \"form-control\"], [3, \"server-error-messages\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-lg\", \"float-right\", \"mt-3\", 3, \"disabled\"], [3, \"value\"]],\n    template: function EntryFormComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-bread-crumb\", 0);\n        i0.ɵɵelement(1, \"app-page-header\", 1);\n        i0.ɵɵelementStart(2, \"form\", 2);\n        i0.ɵɵlistener(\"submit\", function EntryFormComponent_Template_form_submit_2_listener() {\n          return ctx.submitForm();\n        });\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵtext(5, \" Informa\\u00E7\\u00F5es sobre o Lan\\u00E7amento \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 5);\n        i0.ɵɵelementStart(7, \"div\", 6);\n        i0.ɵɵelementStart(8, \"div\", 7);\n        i0.ɵɵelementStart(9, \"label\", 8);\n        i0.ɵɵtext(10, \"Tipo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"select\", 9);\n        i0.ɵɵtemplate(12, EntryFormComponent_option_12_Template, 2, 2, \"option\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(13, \"app-form-field-error\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 12);\n        i0.ɵɵelementStart(15, \"label\", 13);\n        i0.ɵɵtext(16, \"Lan\\u00E7amento\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(17, \"input\", 14);\n        i0.ɵɵelement(18, \"app-form-field-error\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 15);\n        i0.ɵɵelementStart(20, \"label\", 16);\n        i0.ɵɵtext(21, \"Valor\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"div\", 17);\n        i0.ɵɵelementStart(23, \"div\", 18);\n        i0.ɵɵelementStart(24, \"div\", 19);\n        i0.ɵɵtext(25, \"R$\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(26, \"input\", 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(27, \"app-form-field-error\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"div\", 7);\n        i0.ɵɵelementStart(29, \"label\", 21);\n        i0.ɵɵtext(30, \"Data\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(31, \"p-calendar\", 22);\n        i0.ɵɵelement(32, \"app-form-field-error\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"div\", 6);\n        i0.ɵɵelementStart(34, \"div\", 7);\n        i0.ɵɵelementStart(35, \"label\", 23);\n        i0.ɵɵtext(36, \"Pago\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"div\", 24);\n        i0.ɵɵelementStart(38, \"label\", 25);\n        i0.ɵɵlistener(\"click\", function EntryFormComponent_Template_label_click_38_listener() {\n          return ctx.resourceForm.get(\"paid\").setValue(true);\n        });\n        i0.ɵɵtext(39, \" Pago \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"label\", 25);\n        i0.ɵɵlistener(\"click\", function EntryFormComponent_Template_label_click_40_listener() {\n          return ctx.resourceForm.get(\"paid\").setValue(false);\n        });\n        i0.ɵɵtext(41, \" Pendente \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(42, \"app-form-field-error\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(43, \"div\", 15);\n        i0.ɵɵelementStart(44, \"label\", 26);\n        i0.ɵɵtext(45, \"Categoria\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(46, \"select\", 27);\n        i0.ɵɵtemplate(47, EntryFormComponent_option_47_Template, 2, 2, \"option\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(48, \"app-form-field-error\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(49, \"div\", 28);\n        i0.ɵɵelementStart(50, \"label\", 29);\n        i0.ɵɵtext(51, \"Descri\\u00E7\\u00E3o\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(52, \"input\", 30);\n        i0.ɵɵelement(53, \"app-form-field-error\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(54, \"app-server-error-messages\", 31);\n        i0.ɵɵelementStart(55, \"button\", 32);\n        i0.ɵɵtext(56, \" Salvar \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"items\", i0.ɵɵpureFunction2(24, _c2, i0.ɵɵpureFunction0(21, _c0), i0.ɵɵpureFunction1(22, _c1, ctx.pageTitle)));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"page-title\", ctx.pageTitle);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.resourceForm);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngForOf\", ctx.typeOptions);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"form-control\", ctx.resourceForm.get(\"type\"));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"form-control\", ctx.resourceForm.get(\"name\"));\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"mask\", \"separator.2\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"form-control\", ctx.resourceForm.get(\"amount\"));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"locale\", ctx.ptBR)(\"showButtonBar\", true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"form-control\", ctx.resourceForm.get(\"date\"));\n        i0.ɵɵadvance(6);\n        i0.ɵɵclassProp(\"active\", ctx.resourceForm.get(\"paid\").value == true);\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassProp(\"active\", ctx.resourceForm.get(\"paid\").value == false);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"form-control\", ctx.resourceForm.get(\"paid\"));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"form-control\", ctx.resourceForm.get(\"categoryId\"));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"form-control\", ctx.resourceForm.get(\"description\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"server-error-messages\", ctx.serverErrorMessages);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", ctx.submittingForm || ctx.resourceForm.invalid);\n      }\n    },\n    directives: [i3.BreadCrumbComponent, i4.PageHeaderComponent, i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.FormGroupDirective, i5.SelectControlValueAccessor, i5.NgControlStatus, i5.FormControlName, i6.NgForOf, i7.FormFieldErrorComponent, i5.DefaultValueAccessor, i8.NgxMaskDirective, i9.Calendar, i10.ServerErrorMessagesComponent, i5.NgSelectOption, i5.ɵNgSelectMultipleOption],\n    styles: [\"\"]\n  });\n  return EntryFormComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}